<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/css/form.css">
    <link rel="icon" type="image/x-icon" href="/images/favicon-2.png">
    <title>User SignUp</title>
</head>

<body>

    <form action="/users" method="post" class="form-login">
        {{#if error}}
        <div class="message error-message">
            <p>{{error}}</p>
        </div>
        {{/if}}
        {{#if message}}
        <div class="message success-message">
            <p>{{message}}</p>
        </div>
        {{/if}}
        <div class="form-div">
            <h1 class="user-login-text">SignUp User</h1>
        </div>
        <div class="loginRedirectLink">
            <a href="/users/login">Go to Login Page</a>
        </div>
        <div class="form-div">
            <input type="text" name="name" autofocus required class="inputBox" placeholder="Enter Name">
        </div>
        <div class="form-div">
            <input type="email" name="email" required class="inputBox" placeholder="Enter email">
        </div>
        <div class="form-div" id="passwordDiv">
            <input type="password" onchange="myFunc()" minlength="6" name="password" required class="inputBox"
                placeholder="Password">
        </div>
        <div class="form-div">
            {{!-- <label for="gender">Gender</label> --}}
            <select name="gender" id="gender" required class="genderBox">
                <option class="gender_opt">Select Gender</option>
                <option class="gender_opt" style="margin: 5px;" value="1">Male</option>
                <option class="gender_opt" style="font-family: 'Icons', 'Roboto', sans-serif;" value="-1">Female
                </option>
                <option class="gender_opt" value="0">Other</option>
            </select>
        </div>
        <div class="form-div">
            <button type="submit" class="submitBtn">SignUp</button>
        </div>
    </form>
    <script>
        function myFunc() {
            const passwordMainDiv = document.querySelector("#passwordDiv");
            const passwordBox = document.querySelector("input[type='password']");
            if (passwordBox.value.length < 6) {
                let p1 = document.createElement("p");
                let text = document.createTextNode("Password must be minimum of 6 character");
                p1.appendChild(text);
                p1.setAttribute("id", "shortPassMsg")
                passwordMainDiv.insertAdjacentElement("afterend", p1);
            }
            if (document.getElementById("shortPassMsg") && passwordBox.value.length >= 6) {
                document.getElementById("shortPassMsg").remove();
            }
        }
    </script>
    {{!-- if(document.getElementById("pass")){
    document.getElementById("pass").remove();
    } --}}
</body>

</html>